import gql from 'graphql-tag'

/**
 * GraphQL categories and products query.
 */
const PRODUCTS_QUERY = gql`query ($first: Int, $after: String, $where: RootQueryToProductConnectionWhereArgs) {
    products(first: $first, after: $after, where: $where) {
      nodes {
        id
        productId: databaseId
        averageRating
        slug
        sku
        featuredImage {
            node {
              id
              altText
              sourceUrl(size: WOOCOMMERCE_THUMBNAIL)
            }
        }
        name
        ... on SimpleProduct {
          price
          regularPrice
          id
        }
        ... on VariableProduct {
          price
          id
          regularPrice
        }
        ... on ExternalProduct {
          price
          id
          externalUrl
          regularPrice
        }
        ... on GroupProduct {
          id
          products {
            nodes {
              ... on SimpleProduct {
                id
                price
                regularPrice
              }
            }
          }
        }
      }
    }
  }
  `;
  
  export default PRODUCTS_QUERY;