"use strict";(self["webpackChunktodo_buudienxatulap"]=self["webpackChunktodo_buudienxatulap"]||[]).push([[905],{4026:(t,e,a)=>{a.d(e,{Z:()=>p});var o=a(9835),n=a(6970);const h={class:"text-bold text-subtitle1"};function i(t,e,a,i,s,l){const c=(0,o.up)("q-banner");return(0,o.wg)(),(0,o.j4)(c,{dense:"","inline-actions":"",class:(0,n.C_)([a.bgcolor,"list-header text-white text-center"])},{default:(0,o.w5)((()=>[(0,o._)("span",h,[(0,o.WI)(t.$slots,"default")])])),_:3},8,["class"])}const s={props:["bgcolor"]};var l=a(1639),c=a(7128),r=a(9984),u=a.n(r);const m=(0,l.Z)(s,[["render",i]]),p=m;u()(s,"components",{QBanner:c.Z})},5336:(t,e,a)=>{a.d(e,{Z:()=>k});var o=a(9835),n=a(6970);const h=(0,o.Uk)(" Mã hộ:"),i=["href"],s=["href"],l=["href"],c=(0,o.Uk)("đ "),r=(0,o._)("br",null,null,-1),u=(0,o._)("br",null,null,-1);function m(t,e,a,m,p,d){const y=(0,o.up)("q-icon"),g=(0,o.up)("q-item-label"),b=(0,o.up)("q-item-section"),w=(0,o.up)("q-item");return(0,o.wg)(),(0,o.j4)(w,{class:(0,n.C_)({"bg-warning":a.bhyt.coTheUuTienCaoHon,"bg-positive":d.getDateDiff(a.bhyt.denNgayDt)>30,"bg-blue-grey-3":d.getDateDiff(a.bhyt.denNgayDt)<1})},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:(0,n.C_)(1==a.bhyt.gioiTinh?"text-pink":"text-primary"),name:1==a.bhyt.gioiTinh?"female":"male"},null,8,["class","name"]),(0,o.Uk)((0,n.zw)(a.bhyt.hoTen||a.bhyt.hoVaTen)+" "+(0,n.zw)(a.bhyt.ngaySinhDt||a.bhyt.ngayThangNamSinh)+" ",1),(0,o.Wm)(y,{onClick:e[0]||(e[0]=t=>d.xacNhanLoaiBo(a.bhyt)),name:1==a.bhyt.disabled?"do_not_disturb_on":"delete_forever",color:1==a.bhyt.disabled?"red":"gray"},null,8,["name","color"])])),_:1}),(0,o.Wm)(g,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[h,(0,o._)("a",{target:"_blank",href:`https://longzip.github.io/todo-buudienxatulap/#/ho-gia-dinh/${a.bhyt.maHoGd}`},(0,n.zw)(a.bhyt.maHoGd),9,i)])),_:1}),(0,o.Wm)(g,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o._)("a",{target:"_blank",href:`https://longzip.github.io/todo-buudienxatulap/#/tra-cuu?q=${a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH}`},(0,n.zw)(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH),9,s),(0,o.Wm)(y,{class:"q-ml-md",onClick:e[1]||(e[1]=t=>d.copyTextToClipboard(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)),name:"content_copy"}),(0,o.Wm)(y,{class:"q-ml-md",onClick:e[2]||(e[2]=t=>d.copyUrlToClipboard(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)),name:"share"})])),_:1}),(0,o.Wm)(g,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.bhyt.maKCB),1)])),_:1}),(0,o.Wm)(g,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)("5 năm:"+(0,n.zw)(a.bhyt.ngay5Nam||a.bhyt.trangThaiHoSoName),1)])),_:1}),(0,o.Wm)(g,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o._)("a",{href:`tel:${a.bhyt.soDienThoai}`},(0,n.zw)(a.bhyt.soDienThoai),9,l)])),_:1})])),_:1}),(0,o.Wm)(b,{side:"",top:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(d.getDateDiff(a.bhyt.denNgayDt)||a.bhyt.tongTien)+" ngày",1)])),_:1}),(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Đến:"+(0,n.zw)(a.bhyt.denNgayDt||a.bhyt.ngayDenHan),1)])),_:1}),(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>{var t;return[c,(0,o._)("strong",null,(0,n.zw)(null===(t=a.bhyt.tongTien)||void 0===t?void 0:t.toLocaleString()),1)]})),_:1}),(0,o.Wm)(y,{onClick:e[3]||(e[3]=t=>d.xacNhanTheoDoi(a.bhyt)),name:"star",color:1==a.bhyt.completed?"yellow":"gray"},null,8,["color"]),(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Ngày:"+(0,n.zw)(a.bhyt.ngayLap||a.bhyt.updated_at),1),r,(0,o.Uk)(" "+(0,n.zw)(a.bhyt.soBienLai?`Số biên lai: ${a.bhyt.soBienLai}`:""),1),u,(0,o.Uk)(" "+(0,n.zw)(a.bhyt.userName),1)])),_:1})])),_:1})])),_:1},8,["class"])}var p=a(3100),d=a(4376),y=a(4328);const g={props:["bhyt"],methods:{...(0,p.nv)("bhyts",["loaiBo","theoDoi"]),xacNhanLoaiBo(t){t.maSoBhxh||(t.maSoBhxh=t.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn loại bỏ?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.loaiBo(t)}))},xacNhanTheoDoi(t){t.maSoBhxh||(t.maSoBhxh=t.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn theo dõi?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.theoDoi(t)}))},getDateDiff(t){return d.ZP.getDateDiff(new Date(t),new Date,"days")},copyUrlToClipboard(t){navigator.clipboard.writeText(`https://www.buudienxatulap.ga/tra-thoi-han-bao-hiem-y-te/?q=${t}`).then((function(){y.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){y.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))},copyTextToClipboard(t){navigator.clipboard.writeText(t).then((function(){y.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){y.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))}}};var b=a(1639),w=a(490),T=a(1233),f=a(3115),B=a(2857),x=a(9984),S=a.n(x);const _=(0,b.Z)(g,[["render",m]]),k=_;S()(g,"components",{QItem:w.Z,QItemSection:T.Z,QItemLabel:f.Z,QIcon:B.Z})},7905:(t,e,a)=>{a.r(e),a.d(e,{default:()=>k});var o=a(9835),n=a(1957);const h=(0,o.Uk)("Tra cứu thẻ BHYT"),i={class:"q-gutter-y-md column"};function s(t,e,a,s,l,c){const r=(0,o.up)("ListHeader"),u=(0,o.up)("q-icon"),m=(0,o.up)("q-input"),p=(0,o.up)("ThongTinTheBHYT"),d=(0,o.up)("q-separator"),y=(0,o.up)("q-list"),g=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{bgcolor:"bg-orange-4"},{default:(0,o.w5)((()=>[h])),_:1}),(0,o._)("div",i,[(0,o.Wm)(m,{outlined:"",modelValue:l.searchText,"onUpdate:modelValue":e[1]||(e[1]=t=>l.searchText=t),onKeyup:(0,n.D2)(c.timKiem,["enter"]),placeholder:"Mã số BHXH",hint:"Mã số cách nhau bởi dấu phẩy, nhấn Enter để tìm kiếm",dense:""},{append:(0,o.w5)((()=>[""!==l.searchText?((0,o.wg)(),(0,o.j4)(u,{key:0,name:"close",onClick:e[0]||(e[0]=t=>l.searchText=""),class:"cursor-pointer"})):(0,o.kq)("",!0),(0,o.Wm)(u,{name:"search"})])),_:1},8,["modelValue","onKeyup"])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.bhyts,(t=>((0,o.wg)(),(0,o.j4)(y,{key:t.id},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{bhyt:t},null,8,["bhyt"]),(0,o.Wm)(d,{spaced:"",inset:""})])),_:2},1024)))),128))])),_:1})}var l=a(3100),c=a(9981),r=a.n(c),u=a(6950),m=a(8359),p=a(5336),d=a(4026);const y={components:{ThongTinTheBHYT:p.Z,ListHeader:d.Z},data(){return{searchText:"",bhyts:[]}},methods:{async timKiem(){if(window.close(),0===this.searchText.length||""===localStorage.getItem("setIsLogin"))return;this.bhyts=[],u.Z.show({spinner:m.Z,spinnerSize:"100px"});let t=this.searchText.split(",");for(let a=0;a<t.length;a++){const o=t[a];try{await this.xem(o)}catch(e){console.log(e)}}window.close(),u.Z.hide()},async luu(t){let{data:e}=await r().put(`https://cmsbudientulap.herokuapp.com/api/bhyts/${t.maSoBhxh}`,t);return e},async xem(t){let{data:e}=await r().get(`https://ssm-api.vnpost.vn/api/services/app/TraCuu/TraCuuThongTinBHYT?maSoBhxh=${t.slice(t.length-10)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("setIsLogin")}`}}),{thongTinTK1:a,thongTinTheHGD:o}=e.result;if(a){let t=await this.luu({...o,maHoGd:a.maHoGd});this.bhyts.length>5&&(this.bhyts=[]),this.bhyts.push(t)}}},computed:{...(0,l.Se)("auth",["isLogin"])},async mounted(){localStorage.getItem("setIsLogin")||this.$router.push("/auth"),this.$route.query.q&&(this.searchText=this.$route.query.q);let{data:t}=await r().get("https://cmsbudientulap.herokuapp.com/api/maSoBhxhs");localStorage.setItem("dsMaSoBhxhsDaCapNhat",JSON.stringify(t));let e=await r().get("https://cmsbudientulap.herokuapp.com/api/maHoGd");localStorage.setItem("maHoGds",JSON.stringify(e.data));let a=JSON.parse(localStorage.getItem("dsMaSoBhxhs"));console.log("danh sách mã số bh còn lại: "+a.length),console.log("Đã cập nhật thành công: "+t.length);let o=!1;while(o)t.includes(o)||(await this.xem(o),t.push(o)),o=a.pop(),localStorage.setItem("dsMaSoBhxhs",JSON.stringify(a));this.timKiem()}};var g=a(1639),b=a(9885),w=a(361),T=a(2857),f=a(3246),B=a(2218),x=a(9984),S=a.n(x);const _=(0,g.Z)(y,[["render",s]]),k=_;S()(y,"components",{QPage:b.Z,QInput:w.Z,QIcon:T.Z,QList:f.Z,QSeparator:B.Z})}}]);