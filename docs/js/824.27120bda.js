"use strict";(self["webpackChunktodo_buudienxatulap"]=self["webpackChunktodo_buudienxatulap"]||[]).push([[824],{4026:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(9835),a=n(6970);const s={class:"text-bold text-subtitle1"};function i(e,t,n,i,l,h){const r=(0,o.up)("q-banner");return(0,o.wg)(),(0,o.j4)(r,{dense:"","inline-actions":"",class:(0,a.C_)([n.bgcolor,"list-header text-white text-center"])},{default:(0,o.w5)((()=>[(0,o._)("span",s,[(0,o.WI)(e.$slots,"default")])])),_:3},8,["class"])}const l={props:["bgcolor"]};var h=n(1639),r=n(7128),u=n(9984),c=n.n(u);const m=(0,h.Z)(l,[["render",i]]),d=m;c()(l,"components",{QBanner:r.Z})},5788:(e,t,n)=>{n.d(t,{Z:()=>T});var o=n(9835),a=n(6970);const s=(0,o.Uk)(" Mã hộ:"),i=["href"],l=["href"];function h(e,t,n,h,r,u){const c=(0,o.up)("q-icon"),m=(0,o.up)("q-item-label"),d=(0,o.up)("q-item-section"),p=(0,o.up)("q-item");return(0,o.wg)(),(0,o.j4)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:(0,a.C_)(1==n.bhyt.gioiTinh?"text-pink":"text-primary"),name:1==n.bhyt.gioiTinh?"female":"male"},null,8,["class","name"]),(0,o.Uk)((0,a.zw)(n.bhyt.hoTen)+" "+(0,a.zw)(n.bhyt.ngaySinhDt)+" ",1),(0,o.Wm)(c,{onClick:t[0]||(t[0]=e=>u.xacNhanLoaiBo(n.bhyt)),name:1==n.bhyt.disabled?"do_not_disturb_on":"delete_forever",color:1==n.bhyt.disabled?"red":"gray"},null,8,["name","color"])])),_:1}),(0,o.Wm)(m,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[s,(0,o._)("a",{target:"_blank",href:`/#/ho-gia-dinh/${n.bhyt.maHoGd}`},(0,a.zw)(n.bhyt.maHoGd),9,i)])),_:1}),(0,o.Wm)(m,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(n.bhyt.soTheBhyt),1)])),_:1}),(0,o.Wm)(m,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)("5 năm:"+(0,a.zw)(n.bhyt.ngay5Nam),1)])),_:1}),(0,o.Wm)(m,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o._)("a",{href:`tel:${n.bhyt.soDienThoai}`},(0,a.zw)(n.bhyt.soDienThoai),9,l)])),_:1})])),_:1}),(0,o.Wm)(d,{side:"",top:""},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(n.bhyt.denNgayDt),1)])),_:1}),(0,o.Wm)(c,{onClick:t[1]||(t[1]=e=>u.xacNhanTheoDoi(n.bhyt)),name:"star",color:1==n.bhyt.completed?"yellow":"gray"},null,8,["color"])])),_:1})])),_:1})}var r=n(3100);const u={props:["bhyt"],methods:{...(0,r.nv)("bhyts",["loaiBo","theoDoi"]),xacNhanLoaiBo(e){this.$q.dialog({title:"Confirm",message:"Bạn có muốn loại bỏ?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.loaiBo(e)}))},xacNhanTheoDoi(e){this.$q.dialog({title:"Confirm",message:"Bạn có muốn theo dõi?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.theoDoi(e)}))}}};var c=n(1639),m=n(490),d=n(1233),p=n(3115),g=n(2857),b=n(9984),y=n.n(b);const w=(0,c.Z)(u,[["render",h]]),T=w;y()(u,"components",{QItem:m.Z,QItemSection:d.Z,QItemLabel:p.Z,QIcon:g.Z})},2824:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var o=n(9835),a=n(1957);const s=(0,o.Uk)("Tra cứu thẻ BHYT"),i={class:"q-gutter-y-md column"};function l(e,t,n,l,h,r){const u=(0,o.up)("ListHeader"),c=(0,o.up)("q-icon"),m=(0,o.up)("q-input"),d=(0,o.up)("ThongTinTheBHYT"),p=(0,o.up)("q-separator"),g=(0,o.up)("q-list"),b=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{bgcolor:"bg-orange-4"},{default:(0,o.w5)((()=>[s])),_:1}),(0,o._)("div",i,[(0,o.Wm)(m,{outlined:"",modelValue:h.searchText,"onUpdate:modelValue":t[1]||(t[1]=e=>h.searchText=e),onKeyup:(0,a.D2)(r.timKiem,["enter"]),placeholder:"Mã số BHXH",hint:"Mã số cách nhau bởi dấu phẩy, nhấn Enter để tìm kiếm",dense:""},{append:(0,o.w5)((()=>[""!==h.searchText?((0,o.wg)(),(0,o.j4)(c,{key:0,name:"close",onClick:t[0]||(t[0]=e=>h.searchText=""),class:"cursor-pointer"})):(0,o.kq)("",!0),(0,o.Wm)(c,{name:"search"})])),_:1},8,["modelValue","onKeyup"])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.bhyts,(e=>((0,o.wg)(),(0,o.j4)(g,{key:e.id},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{bhyt:e},null,8,["bhyt"]),(0,o.Wm)(p,{spaced:"",inset:""})])),_:2},1024)))),128))])),_:1})}var h=n(3100),r=n(9981),u=n.n(r),c=n(6950),m=n(8359),d=n(5788),p=n(4026);const g={components:{ThongTinTheBHYT:d.Z,ListHeader:p.Z},data(){return{searchText:"",bhyts:[]}},methods:{async timKiem(){if(console.log(localStorage.getItem("setIsLogin")),0===this.searchText.length||""===localStorage.getItem("setIsLogin"))return;this.bhyts=[],c.Z.show({spinner:m.Z,spinnerSize:"100px"});let e=this.searchText.split(",");for(let n=0;n<e.length;n++){const o=e[n];try{await this.xem(o)}catch(t){console.log(t)}}c.Z.hide()},async luu(e){let{data:t}=await u().put(`https://cmsbudientulap.herokuapp.com/api/bhyts/${e.maSoBhxh}`,e);return t},async xem(e){let{data:t}=await u().get(`https://ssm-api.vnpost.vn/api/services/app/TraCuu/TraCuuThongTinBHYT?maSoBhxh=${e.slice(e.length-10)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("setIsLogin")}`}}),n=await this.luu({...t.result.thongTinTheHGD,maHoGd:t.result.thongTinTK1.maHoGd});this.bhyts.push(n)}},computed:{...(0,h.Se)("auth",["isLogin"])},mounted(){localStorage.getItem("setIsLogin")||this.$router.push("/auth"),this.$route.query.q&&(this.searchText=this.$route.query.q),this.timKiem()}};var b=n(1639),y=n(9885),w=n(113),T=n(2857),f=n(3246),_=n(926),x=n(9984),k=n.n(x);const Z=(0,b.Z)(g,[["render",l]]),q=Z;k()(g,"components",{QPage:y.Z,QInput:w.Z,QIcon:T.Z,QList:f.Z,QSeparator:_.Z})}}]);